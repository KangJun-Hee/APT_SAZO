<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragments/layouts/default_layout}">
<head>
    <meta charset="UTF-8">
    <title>로그인</title>
    <style type="text/css">
        html, body { height:100%; }
    </style>
    <script type="text/javascript" src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js" charset="utf-8"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <!-- 부트스트랩 CSS -->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">-->
</head>
<body layout:fragment="content">
    <!-- BODY 전체 감싸는 div (푸터 맨 밑에 고정 시키기 위해 생성) -->
    <div class="wrap" style="min-height:100%; position:relative;">
        <!-- 임시 헤더 -->
        <div name="oTmpHeader" style="background-color:skyblue; height:100px;">임시 헤더 공간입니다.</div>

        <div class="container" align="center">
            <h1>아파트 사조 Login Test</h1>
<!--            <h1 th:each="meberList : ${members}"></h1>-->
<!--            <h1 th:text="${members.name}"></h1>-->
<!--            <h1 th:text="${members.email}"></h1>-->


            <span th:if="${userId == null}">    <!-- 로그인 안한 상태 -->
                <form action="/qLoginBasic" method="POST">
                    <table>
                        <tr>
                            <td><label for="name">아이디 : </label></td>
                            <td><input type="text" id="name" name="name" /></td>
                        </tr>
                        <tr>
                            <td><label for="email">비밀번호 : </label></td>
                            <td><input type="password" id="email" name="email" /></td>
                        </tr>
                        <tr align="center">
                            <td colspan="2">
                                <input type="submit" value="로그인"></input>
                                <button type="button" onclick="location.href='/qJoinForm'">회원가입</button>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" align="right">
                                <input type="checkbox" id="remember" value="dfdf" />
                                <label for="remember">아이디 저장하기</label>
                            </td>
                        </tr>
                    </table>
                </form>
                <table>
                    <tr>
                        <td colspan="2">
                            <!-- 카카오 로그인 -->
                            <a href="https://kauth.kakao.com/oauth/authorize?client_id=fae91fecfb7dbda2a80ae22881709a28&redirect_uri=http://localhost:8081/qLogin&response_type=code">
                                <img src="/images/kakao_login_medium_narrow.png" alt="kakaoLogin" />
                            </a>
                            <!-- 네이버 로그인 -->
                            <a href="/qLoginNaver">
                                <img src="/images/btnG_완성형.png" alt="naverLogin" height="45"/>  <!-- 카카오 로그인과 height만 맞춤 (된다면 추후 이미지 사이즈 자체를 맞추기) -->
                            </a>
                        </td>
                    </tr>
                </table>
            </span>
            <span th:if="${userId != null}">                                  <!-- 로그인 성공 시 -->
                <form name="logout" action="http://localhost:8081/qLogout">
                    <span th:text="${userName}"></span>님 환영합니다.<br/>    <!-- nickname + 인사말 출력 -->
                    (<span th:text="${userId}"></span>)<br/>                    <!-- email -->
                    <input type="submit" value="로그아웃" />                  <!-- 로그아웃 버튼으로 전환 -->
                </form>
            </span>
        </div>


    <!-- 임시 푸터 -->
    <div name="oTmpFooter" style="background-color:skyblue; width:100%; height:100px; position:absolute; bottom:0;">임시 푸터 공간입니다.</div>
    </div>

   <!-- <script type="text/javascript">
        var naver_id_login = new naver_id_login("AjkHs22eU99SBpBCMMDt", "http://localhost:8081/naverCallback");
        var state = naver_id_login.getUniqState();
        naver_id_login.setButton("white", 2,40);
        naver_id_login.setDomain("http://localhost:8081/naverlogin");
        naver_id_login.setState(state);
        naver_id_login.setPopup();
        naver_id_login.init_naver_id_login();
    </script>-->

    <!-- 부트스트랩 script -->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>-->
</body>
</html>

<!--
    kakao REST API 키
        fae91fecfb7dbda2a80ae22881709a28 server port:8082
    naver Client ID
        KxGhFHZ7Xp74X_5IZ23h




    CSS -> footer 하단에 고정하기 참고 link
        https://jineecode.tistory.com/103
-->